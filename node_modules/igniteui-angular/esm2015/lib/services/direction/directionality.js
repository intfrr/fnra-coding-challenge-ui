import { Injectable, Inject, InjectionToken, inject } from '@angular/core';
import { DOCUMENT } from '@angular/common';
import * as i0 from "@angular/core";
/**
 * Injection token is used to inject the document into Directionality
 * which factory could be faked for testing purposes.
 *
 * We can't provide and mock the DOCUMENT token from platform-browser because configureTestingModule
 * allows override of the default providers, directive, pipes, modules of the test injector
 * which causes errors.
 *
 * @hidden
 */
import * as ɵngcc0 from '@angular/core';
export const DIR_DOCUMENT = new InjectionToken('dir-doc', {
    providedIn: 'root',
    factory: DIR_DOCUMENT_FACTORY
});
/**
 * @hidden
 */
export function DIR_DOCUMENT_FACTORY() {
    return inject(DOCUMENT);
}
/**
 * @hidden
 *
 * Bidirectional service that extracts the value of the direction attribute on the body or html elements.
 *
 * The dir attribute over the body element takes precedence.
 */
export class IgxDirectionality {
    constructor(document) {
        this._document = document;
        const bodyDir = this._document.body ? this._document.body.dir : null;
        const htmlDir = this._document.documentElement ? this._document.documentElement.dir : null;
        const extractedDir = bodyDir || htmlDir;
        this._dir = (extractedDir === 'ltr' || extractedDir === 'rtl') ? extractedDir : 'ltr';
    }
    get value() {
        return this._dir;
    }
    get document() {
        return this._document;
    }
    get rtl() {
        return this._dir === 'rtl';
    }
}
IgxDirectionality.ɵfac = function IgxDirectionality_Factory(t) { return new (t || IgxDirectionality)(ɵngcc0.ɵɵinject(DIR_DOCUMENT)); };
IgxDirectionality.ɵprov = i0.ɵɵdefineInjectable({ factory: function IgxDirectionality_Factory() { return new IgxDirectionality(i0.ɵɵinject(DIR_DOCUMENT)); }, token: IgxDirectionality, providedIn: "root" });
IgxDirectionality.ctorParameters = () => [
    { type: undefined, decorators: [{ type: Inject, args: [DIR_DOCUMENT,] }] }
];
/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(IgxDirectionality, [{
        type: Injectable,
        args: [{
                providedIn: 'root'
            }]
    }], function () { return [{ type: undefined, decorators: [{
                type: Inject,
                args: [DIR_DOCUMENT]
            }] }]; }, null); })();

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGlyZWN0aW9uYWxpdHkuanMiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL2lnbml0ZXVpLWFuZ3VsYXIvc3JjL2xpYi9zZXJ2aWNlcy9kaXJlY3Rpb24vZGlyZWN0aW9uYWxpdHkudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLEVBQUUsY0FBYyxFQUFFLE1BQU0sRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUMzRSxPQUFPLEVBQUUsUUFBUSxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFDM0M7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUNILE1BQU0sQ0FBQyxNQUFNLFlBQVksR0FBRyxJQUFJLGNBQWMsQ0FBVyxTQUFTLEVBQUU7QUFDcEUsSUFBSSxVQUFVLEVBQUUsTUFBTTtBQUN0QixJQUFJLE9BQU8sRUFBRSxvQkFBb0I7QUFDakMsQ0FBQyxDQUFDLENBQUM7QUFFSDtBQUNBO0FBQ0EsR0FBRztBQUNILE1BQU0sVUFBVSxvQkFBb0I7QUFBSyxJQUNyQyxPQUFPLE1BQU0sQ0FBQyxRQUFRLENBQUMsQ0FBQztBQUM1QixDQUFDO0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUlILE1BQU0sT0FBTyxpQkFBaUI7QUFDOUIsSUFlSSxZQUFrQyxRQUFRO0FBQzlDLFFBQVEsSUFBSSxDQUFDLFNBQVMsR0FBYSxRQUFRLENBQUM7QUFDNUMsUUFBUSxNQUFNLE9BQU8sR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUM7QUFDN0UsUUFBUSxNQUFNLE9BQU8sR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLGVBQWUsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxlQUFlLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUM7QUFDbkcsUUFBUSxNQUFNLFlBQVksR0FBRyxPQUFPLElBQUksT0FBTyxDQUFDO0FBQ2hELFFBQVEsSUFBSSxDQUFDLElBQUksR0FBRyxDQUFDLFlBQVksS0FBSyxLQUFLLElBQUksWUFBWSxLQUFLLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQztBQUM5RixJQUFJLENBQUM7QUFDTCxJQW5CSSxJQUFXLEtBQUs7QUFBSyxRQUNqQixPQUFPLElBQUksQ0FBQyxJQUFJLENBQUM7QUFDekIsSUFBSSxDQUFDO0FBQ0wsSUFDSSxJQUFXLFFBQVE7QUFDdkIsUUFBUSxPQUFPLElBQUksQ0FBQyxTQUFTLENBQUM7QUFDOUIsSUFBSSxDQUFDO0FBQ0wsSUFDSSxJQUFXLEdBQUc7QUFDbEIsUUFBUSxPQUFPLElBQUksQ0FBQyxJQUFJLEtBQUssS0FBSyxDQUFDO0FBQ25DLElBQUksQ0FBQztBQUNMO3VJQUNBO0FBQUMsOE1BaEJJO0FBQUM7RUFITCxVQUFVLFNBQUMsa0JBQ1IsVUFBVSxFQUFFLE1BQU0sY0FDckIsdkVBRWUsNENBZUMsTUFBTSxTQUFDLFlBQVk7QUFBUTs7Ozs7Ozs7O2tDQUFFO0FBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJbmplY3RhYmxlLCBJbmplY3QsIEluamVjdGlvblRva2VuLCBpbmplY3QgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IERPQ1VNRU5UIH0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uJztcblxuLyoqXG4gKiBAaGlkZGVuXG4gKi9cbmV4cG9ydCB0eXBlIERpcmVjdGlvbiA9ICdsdHInIHwgJ3J0bCc7XG5cbi8qKlxuICogSW5qZWN0aW9uIHRva2VuIGlzIHVzZWQgdG8gaW5qZWN0IHRoZSBkb2N1bWVudCBpbnRvIERpcmVjdGlvbmFsaXR5XG4gKiB3aGljaCBmYWN0b3J5IGNvdWxkIGJlIGZha2VkIGZvciB0ZXN0aW5nIHB1cnBvc2VzLlxuICpcbiAqIFdlIGNhbid0IHByb3ZpZGUgYW5kIG1vY2sgdGhlIERPQ1VNRU5UIHRva2VuIGZyb20gcGxhdGZvcm0tYnJvd3NlciBiZWNhdXNlIGNvbmZpZ3VyZVRlc3RpbmdNb2R1bGVcbiAqIGFsbG93cyBvdmVycmlkZSBvZiB0aGUgZGVmYXVsdCBwcm92aWRlcnMsIGRpcmVjdGl2ZSwgcGlwZXMsIG1vZHVsZXMgb2YgdGhlIHRlc3QgaW5qZWN0b3JcbiAqIHdoaWNoIGNhdXNlcyBlcnJvcnMuXG4gKlxuICogQGhpZGRlblxuICovXG5leHBvcnQgY29uc3QgRElSX0RPQ1VNRU5UID0gbmV3IEluamVjdGlvblRva2VuPERvY3VtZW50PignZGlyLWRvYycsIHtcbiAgICBwcm92aWRlZEluOiAncm9vdCcsXG4gICAgZmFjdG9yeTogRElSX0RPQ1VNRU5UX0ZBQ1RPUllcbn0pO1xuXG4vKipcbiAqIEBoaWRkZW5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIERJUl9ET0NVTUVOVF9GQUNUT1JZKCk6IERvY3VtZW50IHtcbiAgICByZXR1cm4gaW5qZWN0KERPQ1VNRU5UKTtcbn1cblxuLyoqXG4gKiBAaGlkZGVuXG4gKlxuICogQmlkaXJlY3Rpb25hbCBzZXJ2aWNlIHRoYXQgZXh0cmFjdHMgdGhlIHZhbHVlIG9mIHRoZSBkaXJlY3Rpb24gYXR0cmlidXRlIG9uIHRoZSBib2R5IG9yIGh0bWwgZWxlbWVudHMuXG4gKlxuICogVGhlIGRpciBhdHRyaWJ1dGUgb3ZlciB0aGUgYm9keSBlbGVtZW50IHRha2VzIHByZWNlZGVuY2UuXG4gKi9cbkBJbmplY3RhYmxlKHtcbiAgICBwcm92aWRlZEluOiAncm9vdCdcbn0pXG5leHBvcnQgY2xhc3MgSWd4RGlyZWN0aW9uYWxpdHkge1xuICAgIHByaXZhdGUgX2RpcjogRGlyZWN0aW9uO1xuICAgIHByaXZhdGUgX2RvY3VtZW50OiBEb2N1bWVudDtcblxuICAgIHB1YmxpYyBnZXQgdmFsdWUoKTogRGlyZWN0aW9uIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RpcjtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0IGRvY3VtZW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZG9jdW1lbnQ7XG4gICAgfVxuXG4gICAgcHVibGljIGdldCBydGwoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kaXIgPT09ICdydGwnO1xuICAgIH1cblxuICAgIGNvbnN0cnVjdG9yKEBJbmplY3QoRElSX0RPQ1VNRU5UKSBkb2N1bWVudCkge1xuICAgICAgICB0aGlzLl9kb2N1bWVudCA9IDxEb2N1bWVudD5kb2N1bWVudDtcbiAgICAgICAgY29uc3QgYm9keURpciA9IHRoaXMuX2RvY3VtZW50LmJvZHkgPyB0aGlzLl9kb2N1bWVudC5ib2R5LmRpciA6IG51bGw7XG4gICAgICAgIGNvbnN0IGh0bWxEaXIgPSB0aGlzLl9kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQgPyB0aGlzLl9kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuZGlyIDogbnVsbDtcbiAgICAgICAgY29uc3QgZXh0cmFjdGVkRGlyID0gYm9keURpciB8fCBodG1sRGlyO1xuICAgICAgICB0aGlzLl9kaXIgPSAoZXh0cmFjdGVkRGlyID09PSAnbHRyJyB8fCBleHRyYWN0ZWREaXIgPT09ICdydGwnKSA/IGV4dHJhY3RlZERpciA6ICdsdHInO1xuICAgIH1cbn1cbiJdfQ==